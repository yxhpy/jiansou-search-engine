# ç®€æœ - ç®€æ´é«˜æ•ˆçš„æœç´¢å·¥å…· ğŸ”

[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![Python](https://img.shields.io/badge/python-3.8%2B-blue.svg)](https://python.org)
[![FastAPI](https://img.shields.io/badge/FastAPI-0.104.1-009688.svg)](https://fastapi.tiangolo.com)
[![Docker](https://img.shields.io/badge/docker-%230db7ed.svg?logo=docker&logoColor=white)](https://docker.com)

ä¸€ä¸ªç°ä»£åŒ–çš„æœç´¢å¼•æ“é¦–é¡µåº”ç”¨ï¼Œæä¾›ç®€æ´é«˜æ•ˆçš„æœç´¢ä½“éªŒå’Œå¼ºå¤§çš„è‡ªå®šä¹‰åŠŸèƒ½ã€‚

## âœ¨ é¡¹ç›®ç‰¹æ€§

- ğŸ‘¤ **å®Œæ•´ç”¨æˆ·ç³»ç»Ÿ** - ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€ä¸ªäººèµ„æ–™ç®¡ç†ï¼ŒJWTä»¤ç‰Œè®¤è¯
- ğŸ–¼ï¸ **å¤´åƒä¸Šä¼ åŠŸèƒ½** - æ”¯æŒWebDAVæ–‡ä»¶å­˜å‚¨ï¼Œå¤šæ ¼å¼å›¾ç‰‡ä¸Šä¼ 
- ğŸ”’ **æ•°æ®å®Œå…¨éš”ç¦»** - æ¯ä¸ªç”¨æˆ·æ‹¥æœ‰ç‹¬ç«‹çš„é…ç½®å’Œæ•°æ®
- ğŸ” **å¤šæœç´¢å¼•æ“æ”¯æŒ** - ç™¾åº¦ã€Googleã€å¿…åº”ã€æœç‹—ã€DuckDuckGoç­‰ä¸»æµæœç´¢å¼•æ“
- ğŸ”— **æ™ºèƒ½å¿«é€Ÿé“¾æ¥** - æ”¯æŒåˆ†ç±»ç®¡ç†ã€è‡ªåŠ¨å›¾æ ‡è¯†åˆ«å’Œæ‹–æ‹½æ’åº
- ğŸ“± **å“åº”å¼è®¾è®¡** - å®Œç¾é€‚é…æ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯
- ğŸ¨ **ç°ä»£åŒ–UI** - åŸºäºåä¸ºè®¾è®¡è¯­è¨€çš„ç®€æ´ç•Œé¢
- ğŸ–¼ï¸ **åŠ¨æ€å£çº¸** - æ”¯æŒå¿…åº”æ¯æ—¥å£çº¸å’Œè‡ªå®šä¹‰èƒŒæ™¯
- âŒ¨ï¸ **å¿«æ·é”®æ”¯æŒ** - æå‡æ“ä½œæ•ˆç‡çš„é”®ç›˜å¿«æ·é”®
- ğŸš€ **é«˜æ€§èƒ½æ¶æ„** - æ¨¡å—åŒ–è®¾è®¡ï¼Œå¿«é€Ÿå“åº”
- ğŸ”§ **RESTful API** - å®Œæ•´çš„åç«¯APIæ¥å£
- âœ… **å®Œæ•´æµ‹è¯•è¦†ç›–** - å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
- ğŸ³ **å®¹å™¨åŒ–éƒ¨ç½²** - æ”¯æŒDockerä¸€é”®éƒ¨ç½²
- ğŸ“ **æ–‡ä»¶å­˜å‚¨æœåŠ¡** - WebDAVé›†æˆï¼Œæ”¯æŒå¤´åƒå’Œæ–‡ä»¶ç®¡ç†

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åç«¯
- **FastAPI 0.104.1** - ç°ä»£åŒ–çš„Pythonå¼‚æ­¥Webæ¡†æ¶
- **SQLAlchemy 2.0.23** - å¼ºå¤§çš„Python SQLå·¥å…·åŒ…å’ŒORM
- **Pydantic 2.5.0** - ä½¿ç”¨Pythonç±»å‹æç¤ºè¿›è¡Œæ•°æ®éªŒè¯
- **Uvicorn 0.24.0** - Lightning-fast ASGIæœåŠ¡å™¨
- **PyMySQL 1.1.0** - çº¯Python MySQLå®¢æˆ·ç«¯
- **python-dotenv 1.0.0** - ç¯å¢ƒå˜é‡ç®¡ç†
- **python-jose 3.3.0** - JWTä»¤ç‰Œå¤„ç†
- **passlib 1.7.4** - å¯†ç åŠ å¯†å’ŒéªŒè¯
- **webdavclient3 3.14.6** - WebDAVå®¢æˆ·ç«¯ï¼Œæ”¯æŒæ–‡ä»¶å­˜å‚¨
- **Pillow 10.1.0** - å›¾åƒå¤„ç†åº“
- **email-validator 2.1.0** - é‚®ç®±æ ¼å¼éªŒè¯

### å‰ç«¯
- **åŸç”ŸJavaScript (ES6+)** - æ¨¡å—åŒ–å‰ç«¯æ¶æ„
- **Tailwind CSS** - å®ç”¨ä¼˜å…ˆçš„CSSæ¡†æ¶
- **Font Awesome** - ä¸°å¯Œçš„å›¾æ ‡åº“
- **å“åº”å¼è®¾è®¡** - ç§»åŠ¨ç«¯ä¼˜å…ˆçš„è®¾è®¡ç†å¿µ

### éƒ¨ç½²ä¸è¿ç»´
- **Docker & Docker Compose** - å®¹å™¨åŒ–éƒ¨ç½²è§£å†³æ–¹æ¡ˆ
- **å¥åº·æ£€æŸ¥** - è‡ªåŠ¨æœåŠ¡ç›‘æ§å’Œæ¢å¤
- **ç”Ÿäº§çº§é…ç½®** - ä¼˜åŒ–çš„æ€§èƒ½å’Œå®‰å…¨è®¾ç½®

## ğŸ“ é¡¹ç›®ç»“æ„

```
jiansou-search-engine/
â”œâ”€â”€ app/                          # ğŸ—ï¸ åº”ç”¨æ ¸å¿ƒç›®å½•
â”‚   â”œâ”€â”€ __init__.py              # åº”ç”¨åŒ…åˆå§‹åŒ–
â”‚   â”œâ”€â”€ main.py                  # FastAPIä¸»åº”ç”¨
â”‚   â”œâ”€â”€ config.py                # åº”ç”¨é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ database.py              # æ•°æ®åº“è¿æ¥å’Œä¼šè¯ç®¡ç†
â”‚   â”œâ”€â”€ models.py                # SQLAlchemyæ•°æ®åº“æ¨¡å‹
â”‚   â”œâ”€â”€ schemas.py               # Pydanticæ•°æ®éªŒè¯æ¨¡å¼
â”‚   â”œâ”€â”€ auth.py                  # JWTè®¤è¯ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ routers/                 # ğŸ›£ï¸ APIè·¯ç”±æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ auth.py              # ç”¨æˆ·è®¤è¯API
â”‚   â”‚   â”œâ”€â”€ avatar.py            # å¤´åƒç®¡ç†API
â”‚   â”‚   â”œâ”€â”€ quick_links.py       # å¿«é€Ÿé“¾æ¥ç›¸å…³API
â”‚   â”‚   â”œâ”€â”€ search_engines.py    # æœç´¢å¼•æ“ç®¡ç†API
â”‚   â”‚   â”œâ”€â”€ search.py            # æœç´¢åŠŸèƒ½API
â”‚   â”‚   â””â”€â”€ wallpaper.py         # å£çº¸æœåŠ¡API
â”‚   â””â”€â”€ services/                # ğŸ”§ ä¸šåŠ¡é€»è¾‘æœåŠ¡å±‚
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ user_service.py            # ç”¨æˆ·ç®¡ç†ä¸šåŠ¡é€»è¾‘
â”‚       â”œâ”€â”€ webdav_service.py          # WebDAVæ–‡ä»¶å­˜å‚¨æœåŠ¡
â”‚       â”œâ”€â”€ quick_link_service.py      # å¿«é€Ÿé“¾æ¥ä¸šåŠ¡é€»è¾‘
â”‚       â”œâ”€â”€ search_engine_service.py   # æœç´¢å¼•æ“ç®¡ç†é€»è¾‘
â”‚       â”œâ”€â”€ search_service.py          # æœç´¢åŠŸèƒ½å®ç°
â”‚       â””â”€â”€ data_init_service.py       # æ•°æ®åˆå§‹åŒ–æœåŠ¡
â”œâ”€â”€ static/                      # ğŸ¨ å‰ç«¯é™æ€èµ„æº
â”‚   â”œâ”€â”€ css/                     # æ ·å¼æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ base.css            # åŸºç¡€æ ·å¼å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ components.css      # ç»„ä»¶æ ·å¼åº“
â”‚   â”‚   â””â”€â”€ vendor/             # ç¬¬ä¸‰æ–¹CSSåº“
â”‚   â”œâ”€â”€ js/                     # JavaScriptæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ app.js              # ä¸»åº”ç”¨å…¥å£
â”‚   â”‚   â”œâ”€â”€ components/         # UIç»„ä»¶åº“
â”‚   â”‚   â”‚   â”œâ”€â”€ AuthModal.js    # è®¤è¯æ¨¡æ€æ¡†ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ UserInfo.js     # ç”¨æˆ·ä¿¡æ¯ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ QuickLinks.js   # å¿«é€Ÿé“¾æ¥ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ SearchBox.js    # æœç´¢æ¡†ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ QuickLinkManager.js      # å¿«é€Ÿé“¾æ¥ç®¡ç†å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ SearchEngineManager.js   # æœç´¢å¼•æ“ç®¡ç†å™¨
â”‚   â”‚   â”‚   â””â”€â”€ WallpaperManager.js      # å£çº¸ç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ services/           # å‰ç«¯æœåŠ¡å±‚
â”‚   â”‚   â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°åº“
â”‚   â”‚   â””â”€â”€ vendor/             # ç¬¬ä¸‰æ–¹JSåº“
â”‚   â””â”€â”€ images/                 # å›¾ç‰‡å’Œå›¾æ ‡èµ„æº
â”œâ”€â”€ tests/                      # ğŸ§ª æµ‹è¯•å¥—ä»¶
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ conftest.py             # pytesté…ç½®å’Œfixture
â”‚   â”œâ”€â”€ test_auth.py            # ç”¨æˆ·è®¤è¯åŠŸèƒ½æµ‹è¯•
â”‚   â”œâ”€â”€ test_avatar.py          # å¤´åƒåŠŸèƒ½æµ‹è¯•
â”‚   â”œâ”€â”€ test_quick_links.py     # å¿«é€Ÿé“¾æ¥åŠŸèƒ½æµ‹è¯•
â”‚   â”œâ”€â”€ test_search_engines.py  # æœç´¢å¼•æ“åŠŸèƒ½æµ‹è¯•
â”‚   â”œâ”€â”€ test_search.py          # æœç´¢åŠŸèƒ½æµ‹è¯•
â”‚   â””â”€â”€ test_data_init.py       # æ•°æ®åˆå§‹åŒ–æµ‹è¯•
â”œâ”€â”€ docs/                       # ğŸ“š é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ features/               # åŠŸèƒ½è¯´æ˜æ–‡æ¡£
â”‚   â”œâ”€â”€ deployment/             # éƒ¨ç½²æŒ‡å—
â”‚   â””â”€â”€ bugfixes/              # é—®é¢˜ä¿®å¤è®°å½•
â”œâ”€â”€ ğŸ“„ é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ index_new.html          # ä¸»é¡µé¢æ–‡ä»¶
â”‚   â”œâ”€â”€ main_new.py             # åº”ç”¨å¯åŠ¨å…¥å£
â”‚   â”œâ”€â”€ requirements.txt        # Pythonä¾èµ–æ¸…å•
â”‚   â”œâ”€â”€ Dockerfile              # Dockeré•œåƒæ„å»ºé…ç½®
â”‚   â”œâ”€â”€ docker-compose.yml      # å¤šå®¹å™¨ç¼–æ’é…ç½®
â”‚   â”œâ”€â”€ .env                    # ç¯å¢ƒå˜é‡é…ç½®
â”‚   â”œâ”€â”€ .dockerignore           # Dockeræ„å»ºå¿½ç•¥æ–‡ä»¶
â”‚   â”œâ”€â”€ .gitignore              # Gitç‰ˆæœ¬æ§åˆ¶å¿½ç•¥æ–‡ä»¶
â”‚   â”œâ”€â”€ start.sh                # å¿«é€Ÿå¯åŠ¨è„šæœ¬
â”‚   â”œâ”€â”€ docker_start.sh         # Dockerå¯åŠ¨è„šæœ¬
â”‚   â”œâ”€â”€ docker_start.bat        # Windows Dockerå¯åŠ¨è„šæœ¬
â”‚   â”œâ”€â”€ check_db.py             # æ•°æ®åº“è¿æ¥æ£€æŸ¥å·¥å…·
â”‚   â”œâ”€â”€ migrate_add_users.py    # ç”¨æˆ·ç³»ç»Ÿè¿ç§»è„šæœ¬
â”‚   â”œâ”€â”€ migrate_add_avatar_url.py    # å¤´åƒå­—æ®µè¿ç§»è„šæœ¬
â”‚   â”œâ”€â”€ migrate_add_profile_fields.py # ç”¨æˆ·èµ„æ–™å­—æ®µè¿ç§»è„šæœ¬
â”‚   â”œâ”€â”€ CHANGELOG.md            # ç‰ˆæœ¬æ›´æ–°æ—¥å¿—
â”‚   â””â”€â”€ RELEASE.md              # å‘å¸ƒè¯´æ˜
â””â”€â”€ README.md                   # ğŸ“– é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹å¼ä¸€ï¼šDockeréƒ¨ç½²ï¼ˆæ¨èï¼‰

1. **å…‹éš†é¡¹ç›®**
   ```bash
   git clone <repository-url>
   cd jiansou-search-engine
   ```

2. **é…ç½®ç¯å¢ƒå˜é‡**
   ```bash
   # å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
   cp env.example .env
   
   # ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼Œè®¾ç½®å¿…è¦çš„ç¯å¢ƒå˜é‡
   # ç‰¹åˆ«æ˜¯æ•°æ®åº“è¿æ¥å’ŒJWTå¯†é’¥
   ```

3. **ä¸€é”®å¯åŠ¨**
   ```bash
   # Windowsç”¨æˆ·
   docker_start.bat
   
   # Linux/Macç”¨æˆ·
   ./docker_start.sh
   # æˆ–è€…
   docker-compose up -d
   ```

4. **è®¿é—®åº”ç”¨**
   ```
   ğŸŒ ä¸»åº”ç”¨: http://localhost:8000
   ğŸ“š APIæ–‡æ¡£: http://localhost:8000/docs
   ğŸ” è®¤è¯æµ‹è¯•: http://localhost:8000/auth-test
   ```

   **é¦–æ¬¡ä½¿ç”¨ (v2.0+):**
   - å¦‚æœæ˜¯å…¨æ–°å®‰è£…ï¼Œç›´æ¥æ³¨å†Œæ–°ç”¨æˆ·
   - å¦‚æœä»v1.xå‡çº§ï¼Œè¿è¡Œè¿ç§»è„šæœ¬ï¼š
     ```bash
     python migrate_add_users.py
     python migrate_add_avatar_url.py
     python migrate_add_profile_fields.py
     ```
   - é»˜è®¤ç®¡ç†å‘˜è´¦æˆ·ï¼šadmin / admin123 (è¯·åŠæ—¶æ›´æ”¹å¯†ç )

### æ–¹å¼äºŒï¼šæœ¬åœ°å¼€å‘

1. **ç¯å¢ƒè¦æ±‚**
   - Python 3.8+
   - MySQL 5.7+ æˆ– 8.0+
   - (å¯é€‰) WebDAVæœåŠ¡å™¨ç”¨äºæ–‡ä»¶å­˜å‚¨

2. **å®‰è£…ä¾èµ–**
   ```bash
   pip install -r requirements.txt
   ```

3. **ç¯å¢ƒé…ç½®**
   ```bash
   # å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
   cp env.example .env
   
   # ç¼–è¾‘é…ç½®æ–‡ä»¶
   # é…ç½®æ•°æ®åº“è¿æ¥ä¿¡æ¯ã€JWTå¯†é’¥ç­‰
   ```

4. **æ•°æ®åº“åˆå§‹åŒ–**
   ```bash
   # æ£€æŸ¥æ•°æ®åº“è¿æ¥
   python check_db.py
   
   # å¦‚æœä»æ—§ç‰ˆæœ¬å‡çº§ï¼Œè¿è¡Œè¿ç§»è„šæœ¬
   python migrate_add_users.py
   python migrate_add_avatar_url.py
   python migrate_add_profile_fields.py
   ```

5. **å¯åŠ¨åº”ç”¨**
   ```bash
   # ä½¿ç”¨Pythonå¯åŠ¨
   python main_new.py
   
   # æˆ–ä½¿ç”¨å¯åŠ¨è„šæœ¬
   ./start.sh
   ```

## âŒ¨ï¸ å¿«æ·é”®æ“ä½œ

| å¿«æ·é”® | åŠŸèƒ½è¯´æ˜ | é€‚ç”¨åœºæ™¯ |
|--------|----------|----------|
| `Ctrl+K` / `Cmd+K` | èšç„¦æœç´¢æ¡† | ä»»ä½•æ—¶å€™å¿«é€Ÿå¼€å§‹æœç´¢ |
| `ESC` | æ¸…ç©ºæœç´¢å†…å®¹ | æ¸…é™¤å½“å‰æœç´¢è¾“å…¥ |
| `F5` | åˆ·æ–°é¡µé¢æ•°æ® | æ›´æ–°å¿«é€Ÿé“¾æ¥å’Œæœç´¢å¼•æ“ |
| `W` | åˆ‡æ¢å£çº¸ | åœ¨ä¸åŒèƒŒæ™¯é—´åˆ‡æ¢ |
| `Enter` | æ‰§è¡Œæœç´¢ | ä½¿ç”¨å½“å‰é€‰ä¸­çš„æœç´¢å¼•æ“ |
| `Ctrl+L` / `Cmd+L` | æ‰“å¼€é“¾æ¥ç®¡ç†å™¨ | å¿«é€Ÿç®¡ç†å¿«é€Ÿé“¾æ¥ |
| `Ctrl+E` / `Cmd+E` | æ‰“å¼€æœç´¢å¼•æ“ç®¡ç†å™¨ | å¿«é€Ÿç®¡ç†æœç´¢å¼•æ“ |

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡é…ç½®

```bash
# åº”ç”¨æœåŠ¡é…ç½®
APP_HOST=0.0.0.0                    # æœåŠ¡ç›‘å¬åœ°å€
APP_PORT=8000                       # æœåŠ¡ç«¯å£
APP_DEBUG=false                     # è°ƒè¯•æ¨¡å¼
APP_ENV=production                  # è¿è¡Œç¯å¢ƒ

# æ•°æ®åº“é…ç½®
MYSQL_HOST=localhost                # æ•°æ®åº“ä¸»æœº
MYSQL_PORT=3306                     # æ•°æ®åº“ç«¯å£
MYSQL_USER=search                   # æ•°æ®åº“ç”¨æˆ·å
MYSQL_PASSWORD=your_password        # æ•°æ®åº“å¯†ç 
MYSQL_DATABASE=search               # æ•°æ®åº“åç§°

# å®‰å…¨é…ç½®
SECRET_KEY=your_secret_key_here     # JWTå¯†é’¥ï¼ˆç”Ÿäº§ç¯å¢ƒå¿…é¡»æ›´æ”¹ï¼‰
CORS_ORIGINS=["http://localhost:8000"]  # å…è®¸çš„è·¨åŸŸæ¥æº

# WebDAVæ–‡ä»¶å­˜å‚¨é…ç½®ï¼ˆå¯é€‰ï¼‰
WEBDAV_URL=https://your-webdav-server.com/dav/  # WebDAVæœåŠ¡å™¨åœ°å€
WEBDAV_USERNAME=your_username       # WebDAVç”¨æˆ·å
WEBDAV_PASSWORD=your_password       # WebDAVå¯†ç 
```

### åŠŸèƒ½ç‰¹æ€§é…ç½®

- **ğŸ‘¤ ç”¨æˆ·è®¤è¯ç³»ç»Ÿ** - JWTä»¤ç‰Œè®¤è¯ï¼Œæ”¯æŒç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€ä¸ªäººèµ„æ–™ç®¡ç†
- **ğŸ–¼ï¸ å¤´åƒä¸Šä¼ åŠŸèƒ½** - æ”¯æŒJPGã€PNGã€GIFã€WebPæ ¼å¼ï¼Œæœ€å¤§2MBï¼ŒWebDAVå­˜å‚¨
- **ğŸ” æœç´¢å¼•æ“ç®¡ç†** - æ”¯æŒæ·»åŠ ã€ç¼–è¾‘ã€åˆ é™¤æœç´¢å¼•æ“ï¼Œè‡ªå®šä¹‰æœç´¢URL
- **ğŸ”— å¿«é€Ÿé“¾æ¥ç®¡ç†** - æ”¯æŒåˆ†ç±»ç®¡ç†ã€è‡ªåŠ¨å›¾æ ‡è¯†åˆ«ã€æ‹–æ‹½æ’åº
- **ğŸ–¼ï¸ å£çº¸è®¾ç½®** - æ”¯æŒå¿…åº”æ¯æ—¥å£çº¸ã€è‡ªå®šä¹‰èƒŒæ™¯ã€æœ¬åœ°å›¾ç‰‡ä¸Šä¼ 
- **ğŸ¨ ç•Œé¢ä¸»é¢˜** - åŸºäºç°ä»£è®¾è®¡ç†å¿µçš„è‡ªé€‚åº”ç•Œé¢
- **ğŸ“Š æ•°æ®ç»Ÿè®¡** - æœç´¢é¢‘æ¬¡ç»Ÿè®¡ã€é“¾æ¥è®¿é—®ç»Ÿè®¡

## ğŸ“Š APIæ–‡æ¡£

åº”ç”¨å¯åŠ¨åï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹åœ°å€è®¿é—®å®Œæ•´çš„APIæ–‡æ¡£ï¼š

- **Swagger UI**: `http://localhost:8000/docs` - äº¤äº’å¼APIæ–‡æ¡£
- **ReDoc**: `http://localhost:8000/redoc` - ç¾è§‚çš„APIæ–‡æ¡£

### ğŸ”— ä¸»è¦APIç«¯ç‚¹

#### ç”¨æˆ·è®¤è¯ (v2.0æ–°å¢)
- `POST /api/auth/register` - ç”¨æˆ·æ³¨å†Œ
- `POST /api/auth/login` - ç”¨æˆ·ç™»å½•
- `GET /api/auth/me` - è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
- `PUT /api/auth/profile` - æ›´æ–°ç”¨æˆ·èµ„æ–™

#### å¤´åƒç®¡ç† (v2.0æ–°å¢)
- `POST /api/avatar/upload` - ä¸Šä¼ ç”¨æˆ·å¤´åƒ
- `DELETE /api/avatar/` - åˆ é™¤ç”¨æˆ·å¤´åƒ
- `GET /api/avatar/download/{filename}` - ä¸‹è½½å¤´åƒæ–‡ä»¶
- `GET /api/avatar/list` - åˆ—å‡ºç”¨æˆ·å¤´åƒ

#### æœç´¢å¼•æ“ç®¡ç† (éœ€è¦è®¤è¯)
- `GET /api/search-engines` - è·å–æœç´¢å¼•æ“åˆ—è¡¨
- `POST /api/search-engines` - æ·»åŠ æ–°çš„æœç´¢å¼•æ“
- `PUT /api/search-engines/{id}` - æ›´æ–°æœç´¢å¼•æ“é…ç½®
- `DELETE /api/search-engines/{id}` - åˆ é™¤æœç´¢å¼•æ“

#### å¿«é€Ÿé“¾æ¥ç®¡ç† (éœ€è¦è®¤è¯)
- `GET /api/quick-links` - è·å–å¿«é€Ÿé“¾æ¥åˆ—è¡¨
- `POST /api/quick-links` - æ·»åŠ æ–°çš„å¿«é€Ÿé“¾æ¥
- `PUT /api/quick-links/{id}` - æ›´æ–°å¿«é€Ÿé“¾æ¥
- `DELETE /api/quick-links/{id}` - åˆ é™¤å¿«é€Ÿé“¾æ¥

#### å…¶ä»–æœåŠ¡
- `GET /api/wallpaper` - è·å–å½“å‰å£çº¸ä¿¡æ¯
- `POST /api/search` - æ‰§è¡Œæœç´¢è¯·æ±‚
- `GET /health` - å¥åº·æ£€æŸ¥ç«¯ç‚¹

## ğŸ§ª æµ‹è¯•

### è¿è¡Œæµ‹è¯•

```bash
# å®‰è£…æµ‹è¯•ä¾èµ–
pip install pytest pytest-cov pytest-asyncio

# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pytest

# è¿è¡Œç‰¹å®šæµ‹è¯•æ–‡ä»¶
pytest tests/test_auth.py -v
pytest tests/test_avatar.py -v
pytest tests/test_quick_links.py -v

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
pytest --cov=app tests/ --cov-report=html

# è¿è¡Œç‰¹å®šæµ‹è¯•å¹¶æ˜¾ç¤ºè¯¦ç»†è¾“å‡º
pytest tests/test_auth.py::test_user_registration -v -s
```

### æµ‹è¯•è¦†ç›–èŒƒå›´

- âœ… **ç”¨æˆ·è®¤è¯æµ‹è¯•** - æ³¨å†Œã€ç™»å½•ã€JWTä»¤ç‰ŒéªŒè¯
- âœ… **å¤´åƒåŠŸèƒ½æµ‹è¯•** - æ–‡ä»¶ä¸Šä¼ ã€ä¸‹è½½ã€åˆ é™¤
- âœ… **APIç«¯ç‚¹æµ‹è¯•** - æ‰€æœ‰REST APIçš„åŠŸèƒ½æµ‹è¯•
- âœ… **ä¸šåŠ¡é€»è¾‘æµ‹è¯•** - æ ¸å¿ƒä¸šåŠ¡åŠŸèƒ½çš„å•å…ƒæµ‹è¯•
- âœ… **æ•°æ®åº“æ“ä½œæµ‹è¯•** - æ•°æ®æŒä¹…åŒ–æ“ä½œæµ‹è¯•
- âœ… **é”™è¯¯å¤„ç†æµ‹è¯•** - å¼‚å¸¸æƒ…å†µå’Œè¾¹ç•Œæ¡ä»¶æµ‹è¯•
- âœ… **WebDAVé›†æˆæµ‹è¯•** - æ–‡ä»¶å­˜å‚¨æœåŠ¡æµ‹è¯•

## ğŸ“¦ éƒ¨ç½²æŒ‡å—

### Dockerå•å®¹å™¨éƒ¨ç½²

```bash
# æ„å»ºDockeré•œåƒ
docker build -t jiansou:latest .

# è¿è¡Œå®¹å™¨
docker run -d \
  --name jiansou-app \
  -p 8000:8000 \
  -e APP_ENV=production \
  -e SECRET_KEY=your-production-secret-key \
  jiansou:latest
```

### Docker Composeéƒ¨ç½²ï¼ˆæ¨èï¼‰

```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æœåŠ¡æ—¥å¿—
docker-compose logs -f jiansou

# åœæ­¢æ‰€æœ‰æœåŠ¡
docker-compose down

# é‡å»ºå¹¶å¯åŠ¨æœåŠ¡
docker-compose up --build -d
```

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²å»ºè®®

1. **ğŸ”’ å®‰å…¨é…ç½®**
   - ä½¿ç”¨å¼ºå¯†ç å’Œå¯†é’¥
   - é…ç½®HTTPSè¯ä¹¦
   - è®¾ç½®é˜²ç«å¢™è§„åˆ™
   - å®šæœŸæ›´æ–°ä¾èµ–åŒ…

2. **âš¡ æ€§èƒ½ä¼˜åŒ–**
   - é…ç½®åå‘ä»£ç†ï¼ˆNginxï¼‰
   - å¯ç”¨Gzipå‹ç¼©
   - è®¾ç½®ç¼“å­˜ç­–ç•¥
   - é…ç½®CDNåŠ é€Ÿ

3. **ğŸ“Š ç›‘æ§å’Œæ—¥å¿—**
   - é…ç½®æ—¥å¿—è½®è½¬
   - è®¾ç½®æ€§èƒ½ç›‘æ§
   - é…ç½®å¥åº·æ£€æŸ¥
   - è®¾ç½®å‘Šè­¦æœºåˆ¶

4. **ğŸ’¾ æ•°æ®å¤‡ä»½**
   - å®šæœŸæ•°æ®åº“å¤‡ä»½
   - æ–‡ä»¶å­˜å‚¨å¤‡ä»½
   - é…ç½®æ–‡ä»¶å¤‡ä»½

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æ•°æ®åº“è¿æ¥å¤±è´¥**
   ```bash
   # æ£€æŸ¥æ•°æ®åº“æœåŠ¡çŠ¶æ€
   python check_db.py
   
   # éªŒè¯è¿æ¥é…ç½®
   docker-compose logs jiansou
   
   # æ£€æŸ¥ç¯å¢ƒå˜é‡
   echo $MYSQL_PASSWORD
   ```

2. **ç«¯å£å ç”¨é—®é¢˜**
   ```bash
   # æ£€æŸ¥ç«¯å£å ç”¨
   netstat -tlnp | grep :8000
   
   # ä¿®æ”¹ç«¯å£é…ç½®
   # ç¼–è¾‘ docker-compose.yml æˆ– .env æ–‡ä»¶
   ```

3. **æƒé™é—®é¢˜**
   ```bash
   # Linux/Macä¸‹ç»™äºˆæ‰§è¡Œæƒé™
   chmod +x start.sh docker_start.sh
   ```

4. **å¤´åƒä¸Šä¼ å¤±è´¥**
   ```bash
   # æ£€æŸ¥WebDAVé…ç½®
   echo $WEBDAV_URL
   echo $WEBDAV_USERNAME
   
   # æµ‹è¯•WebDAVè¿æ¥
   curl -u $WEBDAV_USERNAME:$WEBDAV_PASSWORD $WEBDAV_URL
   ```

5. **JWTä»¤ç‰Œé—®é¢˜**
   ```bash
   # æ£€æŸ¥SECRET_KEYé…ç½®
   echo $SECRET_KEY
   
   # æ¸…é™¤æµè§ˆå™¨localStorage
   # åœ¨æµè§ˆå™¨æ§åˆ¶å°æ‰§è¡Œ: localStorage.clear()
   ```

## ğŸ†• ç‰ˆæœ¬æ›´æ–°

### ä»v1.xå‡çº§åˆ°v2.0

1. **å¤‡ä»½æ•°æ®**
   ```bash
   # å¤‡ä»½æ•°æ®åº“
   mysqldump -u username -p database_name > backup.sql
   ```

2. **è¿è¡Œè¿ç§»è„šæœ¬**
   ```bash
   # æ·»åŠ ç”¨æˆ·è¡¨
   python migrate_add_users.py
   
   # æ·»åŠ å¤´åƒå­—æ®µ
   python migrate_add_avatar_url.py
   
   # æ·»åŠ ç”¨æˆ·èµ„æ–™å­—æ®µ
   python migrate_add_profile_fields.py
   ```

3. **æ›´æ–°é…ç½®æ–‡ä»¶**
   ```bash
   # æ·»åŠ æ–°çš„ç¯å¢ƒå˜é‡
   SECRET_KEY=your-secret-key
   WEBDAV_URL=your-webdav-url
   WEBDAV_USERNAME=your-username
   WEBDAV_PASSWORD=your-password
   ```

4. **é‡å¯åº”ç”¨**
   ```bash
   docker-compose down
   docker-compose up -d
   ```

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼è¯·é˜…è¯»ä»¥ä¸‹æŒ‡å—ï¼š

### å¼€å‘æµç¨‹

1. **ğŸ´ Forké¡¹ç›®** - åˆ›å»ºæ‚¨è‡ªå·±çš„é¡¹ç›®å‰¯æœ¬
2. **ğŸŒ¿ åˆ›å»ºåˆ†æ”¯** - `git checkout -b feature/amazing-feature`
3. **ğŸ’» å¼€å‘åŠŸèƒ½** - ç¼–å†™ä»£ç å¹¶æ·»åŠ æµ‹è¯•
4. **âœ… è¿è¡Œæµ‹è¯•** - ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡
5. **ğŸ“ æäº¤æ›´æ”¹** - `git commit -m 'Add amazing feature'`
6. **ğŸš€ æ¨é€åˆ†æ”¯** - `git push origin feature/amazing-feature`
7. **ğŸ”„ åˆ›å»ºPR** - åœ¨GitHubä¸Šåˆ›å»ºPull Request

### ä»£ç è§„èŒƒ

- éµå¾ªPEP 8 Pythonä»£ç é£æ ¼
- æ·»åŠ é€‚å½“çš„ç±»å‹æç¤º
- ç¼–å†™æ¸…æ™°çš„æ³¨é‡Šå’Œæ–‡æ¡£
- ä¸ºæ–°åŠŸèƒ½æ·»åŠ æµ‹è¯•ç”¨ä¾‹
- ä½¿ç”¨æœ‰æ„ä¹‰çš„æäº¤ä¿¡æ¯

### æäº¤ä¿¡æ¯æ ¼å¼

```
type(scope): description

[optional body]

[optional footer]
```

ä¾‹å¦‚ï¼š
- `feat(auth): add user registration endpoint`
- `feat(avatar): implement avatar upload functionality`
- `fix(ui): resolve mobile responsive issues`
- `docs(readme): update installation guide`

## ğŸ“Š é¡¹ç›®çŠ¶æ€

- ğŸŸ¢ **æ´»è·ƒç»´æŠ¤** - å®šæœŸæ›´æ–°å’ŒåŠŸèƒ½æ”¹è¿›
- ğŸ§ª **æµ‹è¯•è¦†ç›–ç‡** - 90%+
- ğŸ“ˆ **æ€§èƒ½æŒ‡æ ‡** - å“åº”æ—¶é—´ < 100ms
- ğŸ”’ **å®‰å…¨ç­‰çº§** - ç”Ÿäº§å°±ç»ª
- ğŸ‘¥ **ç”¨æˆ·ç³»ç»Ÿ** - å®Œæ•´çš„è®¤è¯å’Œæˆæƒ
- ğŸ“ **æ–‡ä»¶å­˜å‚¨** - WebDAVé›†æˆæ”¯æŒ

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº [MIT License](LICENSE) å¼€æºåè®®å‘å¸ƒã€‚

```
MIT License

Copyright (c) 2024 ç®€æœå›¢é˜Ÿ

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.
```

## ğŸ”— ç›¸å…³é“¾æ¥

- ğŸ“š [è¯¦ç»†æ–‡æ¡£](docs/) - å®Œæ•´çš„é¡¹ç›®æ–‡æ¡£
- ğŸ“ [æ›´æ–°æ—¥å¿—](CHANGELOG.md) - ç‰ˆæœ¬æ›´æ–°è®°å½•
- ğŸ·ï¸ [å‘å¸ƒè¯´æ˜](RELEASE.md) - ç‰ˆæœ¬å‘å¸ƒè¯¦æƒ…
- ğŸ› [é—®é¢˜åé¦ˆ](../../issues) - æŠ¥å‘Šé—®é¢˜å’Œå»ºè®®
- ğŸ’¬ [è®¨è®ºåŒº](../../discussions) - ç¤¾åŒºè®¨è®º
- ğŸ·ï¸ [å‘å¸ƒç‰ˆæœ¬](../../releases) - ç¨³å®šç‰ˆæœ¬ä¸‹è½½

## ğŸ“ æ”¯æŒä¸è”ç³»

å¦‚æœæ‚¨åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜æˆ–æœ‰ä»»ä½•å»ºè®®ï¼Œæ¬¢è¿é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»æˆ‘ä»¬ï¼š

- ğŸ“§ **é‚®ç®±**: [support@jiansou.com](mailto:support@jiansou.com)
- ğŸŒ **é¡¹ç›®ä¸»é¡µ**: [https://github.com/your-org/jiansou-search-engine](https://github.com/your-org/jiansou-search-engine)
- ğŸ“± **QQç¾¤**: 123456789
- ğŸ’¬ **å¾®ä¿¡ç¾¤**: æ‰«æäºŒç»´ç åŠ å…¥

---

<div align="center">

**ç®€æœ** - è®©æœç´¢æ›´ç®€å•ï¼Œè®©æ•ˆç‡æ›´é«˜æ•ˆ ğŸš€

[![Star History Chart](https://api.star-history.com/svg?repos=your-org/jiansou-search-engine&type=Date)](https://star-history.com/#your-org/jiansou-search-engine&Date)

*å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª â­ Starï¼*

</div> 